/*! For license information please see 795.5a0b76ffe458129e8ed4.js.LICENSE.txt */
(self.webpackChunkjupyter_leaflet=self.webpackChunkjupyter_leaflet||[]).push([[795],{91:()=>{function t(){return!0}L.Canvas.include({_resetTransformPath:function(t){this._containerCopy&&(delete this._containerCopy,t._containsPoint_&&(t._containsPoint=t._containsPoint_,delete t._containsPoint_,this._requestRedraw(t)))},transformPath:function(i,a){var n,r=this._containerCopy,s=this._ctx,e=L.Browser.retina?2:1,o=this._bounds,h=o.getSize(),_=o.min;r||(n=(r=this._containerCopy=document.createElement("canvas")).getContext("2d"),r.width=e*h.x,r.height=e*h.y,this._removePath(i),this._redraw(),n.translate(e*o.min.x,e*o.min.y),n.drawImage(this._container,0,0),this._initPath(i),i._containsPoint_=i._containsPoint,i._containsPoint=t),s.save(),s.clearRect(_.x,_.y,h.x*e,h.y*e),s.setTransform(1,0,0,1,0,0),s.restore(),s.save(),s.drawImage(this._containerCopy,0,0,h.x,h.y),s.transform.apply(s,a),this._drawing=!0,i._updatePath(),this._drawing=!1,s.restore()}})},1316:()=>{L.Matrix=function(t,i,a,n,r,s){this._matrix=[t,i,a,n,r,s]},L.Matrix.prototype={transform:function(t){return this._transform(t.clone())},_transform:function(t){var i=this._matrix,a=t.x,n=t.y;return t.x=i[0]*a+i[1]*n+i[4],t.y=i[2]*a+i[3]*n+i[5],t},untransform:function(t){var i=this._matrix;return new L.Point((t.x/i[0]-i[4])/i[0],(t.y/i[2]-i[5])/i[2])},clone:function(){var t=this._matrix;return new L.Matrix(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(t){return void 0===t?new L.Point(this._matrix[4],this._matrix[5]):("number"==typeof t?i=a=t:(i=t.x,a=t.y),this._add(1,0,0,1,i,a));var i,a},scale:function(t,i){return void 0===t?new L.Point(this._matrix[0],this._matrix[3]):(i=i||L.point(0,0),"number"==typeof t?a=n=t:(a=t.x,n=t.y),this._add(a,0,0,n,i.x,i.y)._add(1,0,0,1,-i.x,-i.y));var a,n},rotate:function(t,i){var a=Math.cos(t),n=Math.sin(t);return i=i||new L.Point(0,0),this._add(a,n,-n,a,i.x,i.y)._add(1,0,0,1,-i.x,-i.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(t,i,a,n,r,s){var e,o=[[],[],[]],h=this._matrix,_=[[h[0],h[2],h[4]],[h[1],h[3],h[5]],[0,0,1]],l=[[t,a,r],[i,n,s],[0,0,1]];t&&t instanceof L.Matrix&&(l=[[(h=t._matrix)[0],h[2],h[4]],[h[1],h[3],h[5]],[0,0,1]]);for(var d=0;d<3;d++)for(var p=0;p<3;p++){e=0;for(var g=0;g<3;g++)e+=_[d][g]*l[g][p];o[d][p]=e}return this._matrix=[o[0][0],o[1][0],o[0][1],o[1][1],o[0][2],o[1][2]],this}},L.matrix=function(t,i,a,n,r,s){return new L.Matrix(t,i,a,n,r,s)}},5706:(t,i,a)=>{a(5130),a(6022),a(91),L.Path.include({_transform:function(t){return this._renderer&&(t?this._renderer.transformPath(this,t):(this._renderer._resetTransformPath(this),this._update())),this},_onMouseClick:function(t){this.dragging&&this.dragging.moved()||this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)}});var n={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},r={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};L.Handler.PathDrag=L.Handler.extend({statics:{DRAGGING_CLS:"leaflet-path-draggable"},initialize:function(t){this._path=t,this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._mapDraggingWasEnabled=!1},addHooks:function(){this._path.on("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className?this._path.options.className+" "+L.Handler.PathDrag.DRAGGING_CLS:L.Handler.PathDrag.DRAGGING_CLS,this._path._path&&L.DomUtil.addClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},removeHooks:function(){this._path.off("mousedown",this._onDragStart,this),this._path.options.className=this._path.options.className.replace(new RegExp("\\s+"+L.Handler.PathDrag.DRAGGING_CLS),""),this._path._path&&L.DomUtil.removeClass(this._path._path,L.Handler.PathDrag.DRAGGING_CLS)},moved:function(){return this._path._dragMoved},_onDragStart:function(t){var i=t.originalEvent._simulated?"touchstart":t.originalEvent.type;this._mapDraggingWasEnabled=!1,this._startPoint=t.containerPoint.clone(),this._dragStartPoint=t.containerPoint.clone(),this._matrix=[1,0,0,1,0,0],L.DomEvent.stop(t.originalEvent),L.DomUtil.addClass(this._path._renderer._container,"leaflet-interactive"),L.DomEvent.on(document,r[i],this._onDrag,this).on(document,n[i],this._onDragEnd,this),this._path._map.dragging.enabled()&&(this._path._map.dragging.disable(),this._mapDraggingWasEnabled=!0),this._path._dragMoved=!1,this._path._popup&&this._path._popup._close(),this._replaceCoordGetters(t)},_onDrag:function(t){L.DomEvent.stop(t);var i=t.touches&&t.touches.length>=1?t.touches[0]:t,a=this._path._map.mouseEventToContainerPoint(i);if("touchmove"!==t.type||this._path._dragMoved||!(this._dragStartPoint.distanceTo(a)<=this._path._map.options.tapTolerance)){var n=a.x,r=a.y,s=n-this._startPoint.x,e=r-this._startPoint.y;(s||e)&&(this._path._dragMoved||(this._path._dragMoved=!0,this._path.fire("dragstart",t),this._path.bringToFront()),this._matrix[4]+=s,this._matrix[5]+=e,this._startPoint.x=n,this._startPoint.y=r,this._path.fire("predrag",t),this._path._transform(this._matrix),this._path.fire("drag",t))}},_onDragEnd:function(t){var i,a,n,r,s=this._path._map.mouseEventToContainerPoint(t),e=this.moved();if(e&&(this._transformPoints(this._matrix),this._path._updatePath(),this._path._project(),this._path._transform(null),L.DomEvent.stop(t)),L.DomEvent.off(document,"mousemove touchmove",this._onDrag,this),L.DomEvent.off(document,"mouseup touchend",this._onDragEnd,this),this._restoreCoordGetters(),e){this._path.fire("dragend",{distance:(i=this._dragStartPoint,a=s,n=i.x-a.x,r=i.y-a.y,Math.sqrt(n*n+r*r))});var o=this._path._containsPoint;this._path._containsPoint=L.Util.falseFn,L.Util.requestAnimFrame((function(){L.DomEvent.skipped({type:"click"}),this._path._containsPoint=o}),this)}this._matrix=null,this._startPoint=null,this._dragStartPoint=null,this._path._dragMoved=!1,this._mapDraggingWasEnabled&&(e&&L.DomEvent.fakeStop({type:"click"}),this._path._map.dragging.enable())},_transformPoints:function(t,i){var a,n,r,s=this._path,e=L.point(t[4],t[5]),o=s._map.options.crs,h=o.transformation,_=o.scale(s._map.getZoom()),l=o.projection,d=h.untransform(e,_).subtract(h.untransform(L.point(0,0),_)),p=!i;if(s._bounds=new L.LatLngBounds,s._point)i=l.unproject(l.project(s._latlng)._add(d)),p&&(s._latlng=i,s._point._add(e));else if(s._rings||s._parts){var g=s._rings||s._parts,c=s._latlngs;for(i=i||c,L.Util.isArray(c[0])||(c=[c],i=[i]),a=0,n=c.length;a<n;a++){i[a]=i[a]||[];for(var u=0,m=c[a].length;u<m;u++)r=c[a][u],i[a][u]=l.unproject(l.project(r)._add(d)),p&&(s._bounds.extend(c[a][u]),g[a][u]&&g[a][u]._add(e))}}return i},_replaceCoordGetters:function(){this._path.getLatLng?(this._path.getLatLng_=this._path.getLatLng,this._path.getLatLng=L.Util.bind((function(){return this.dragging._transformPoints(this.dragging._matrix,{})}),this._path)):this._path.getLatLngs&&(this._path.getLatLngs_=this._path.getLatLngs,this._path.getLatLngs=L.Util.bind((function(){return this.dragging._transformPoints(this.dragging._matrix,[])}),this._path))},_restoreCoordGetters:function(){this._path.getLatLng_?(this._path.getLatLng=this._path.getLatLng_,delete this._path.getLatLng_):this._path.getLatLngs_&&(this._path.getLatLngs=this._path.getLatLngs_,delete this._path.getLatLngs_)}}),L.Handler.PathDrag.makeDraggable=function(t){return t.dragging=new L.Handler.PathDrag(t),t},L.Path.prototype.makeDraggable=function(){return L.Handler.PathDrag.makeDraggable(this)},L.Path.addInitHook((function(){this.options.draggable?(this.options.interactive=!0,this.dragging||L.Handler.PathDrag.makeDraggable(this),this.dragging.enable()):this.dragging&&this.dragging.disable()})),t.exports=L.Path.Drag},8364:()=>{L.PathTransform.Handle=L.CircleMarker.extend({options:{className:"leaflet-path-transform-handler"},onAdd:function(t){L.CircleMarker.prototype.onAdd.call(this,t),this._path&&this.options.setCursor&&(this._path.style.cursor=L.PathTransform.Handle.CursorsByType[this.options.index])}}),L.PathTransform.Handle.CursorsByType=["nesw-resize","nwse-resize","nesw-resize","nwse-resize"],L.PathTransform.RotateHandle=L.PathTransform.Handle.extend({options:{className:"leaflet-path-transform-handler transform-handler--rotate"},onAdd:function(t){L.CircleMarker.prototype.onAdd.call(this,t),this._path&&this.options.setCursor&&(this._path.style.cursor="all-scroll")}}),L.Handler.PathTransform=L.Handler.extend({options:{rotation:!0,scaling:!0,uniformScaling:!0,maxZoom:22,handlerOptions:{radius:5,fillColor:"#ffffff",color:"#202020",fillOpacity:1,weight:2,opacity:.7,setCursor:!0},boundsOptions:{weight:1,opacity:1,dashArray:[3,3],fill:!1,noClip:!0},rotateHandleOptions:{weight:1,opacity:1,setCursor:!0},handleLength:20,edgesCount:4,handleClass:L.PathTransform.Handle,rotateHandleClass:L.PathTransform.RotateHandle},initialize:function(t){this._path=t,this._map=null,this._activeMarker=null,this._originMarker=null,this._rotationMarker=null,this._rotationOrigin=null,this._scaleOrigin=null,this._angle=0,this._scale=L.point(1,1),this._initialDist=0,this._initialDistX=0,this._initialDistY=0,this._rotationStart=null,this._rotationOriginPt=null,this._matrix=new L.Matrix(1,0,0,1,0,0),this._projectedMatrix=new L.Matrix(1,0,0,1,0,0),this._handlersGroup=null,this._rect=null,this._handlers=[],this._handleLine=null},enable:function(t){this._path._map&&(this._map=this._path._map,t&&this.setOptions(t),L.Handler.prototype.enable.call(this))},addHooks:function(){this._createHandlers(),this._path.on("dragstart",this._onDragStart,this).on("dragend",this._onDragEnd,this)},removeHooks:function(){this._hideHandlers(),this._path.off("dragstart",this._onDragStart,this).off("dragend",this._onDragEnd,this),this._handlersGroup=null,this._rect=null,this._handlers=[]},setOptions:function(t){var i=this._enabled;return i&&this.disable(),this.options=L.PathTransform.merge({},L.Handler.PathTransform.prototype.options,t),i&&this.enable(),this},rotate:function(t,i){return this.transform(t,null,i)},scale:function(t,i){return"number"==typeof t&&(t=L.point(t,t)),this.transform(0,t,null,i)},transform:function(t,i,a,n){var r=this._path.getCenter();return a=a||r,n=n||r,this._map=this._path._map,this._transformPoints(this._path,t,i,a,n),this._transformPoints(this._rect,t,i,a,n),this._transformPoints(this._handleLine,t,i,a,n),this._updateHandlers(),this},_update:function(){for(var t=this._matrix,i=0,a=this._handlers.length;i<a;i++){var n=this._handlers[i];n!==this._originMarker&&(n._point=t.transform(n._initialPoint),n._updatePath())}t=t.clone().flip(),this._applyTransform(t),this._path.fire("transform",{layer:this._path})},_applyTransform:function(t){this._path._transform(t._matrix),this._rect._transform(t._matrix),this.options.rotation&&this._handleLine._transform(t._matrix)},_apply:function(){var t=this._map,i=this._matrix.clone(),a=this._angle,n=this._scale.clone();this._transformGeometries();for(var r=0,s=this._handlers.length;r<s;r++){var e=this._handlers[r];e._latlng=t.layerPointToLatLng(e._point),delete e._initialPoint,e.redraw()}this._matrix=L.matrix(1,0,0,1,0,0),this._scale=L.point(1,1),this._angle=0,this._updateHandlers(),t.dragging.enable(),this._path.fire("transformed",{matrix:i,scale:n,rotation:a,layer:this._path})},reset:function(){this._rectShape=null,this._enabled&&(this._rect&&this._handlersGroup.removeLayer(this._rect),this._rect=this._getBoundingPolygon().addTo(this._handlersGroup),this._updateHandlers())},_updateHandlers:function(){var t=this._handlersGroup;this._rectShape=this._rect.toGeoJSON(),this._handleLine&&this._handlersGroup.removeLayer(this._handleLine),this._rotationMarker&&this._handlersGroup.removeLayer(this._rotationMarker),this._handleLine=this._rotationMarker=null;for(var i=this._handlers.length-1;i>=0;i--)t.removeLayer(this._handlers[i]);this._createHandlers()},_transformGeometries:function(){this._path._transform(null),this._rect._transform(null),this._transformPoints(this._path),this._transformPoints(this._rect),this.options.rotation&&(this._handleLine._transform(null),this._transformPoints(this._handleLine,this._angle,null,this._origin))},_getProjectedMatrix:function(t,i,a,n){var r,s=this._map,e=s.getMaxZoom()||this.options.maxZoom,o=L.matrix(1,0,0,1,0,0);return t=t||this._angle||0,1===(i=i||this._scale||L.point(1,1)).x&&1===i.y||(n=n||this._scaleOrigin,r=s.project(n,e),o=o._add(L.matrix(1,0,0,1,r.x,r.y))._add(L.matrix(i.x,0,0,i.y,0,0))._add(L.matrix(1,0,0,1,-r.x,-r.y))),t&&(a=a||this._rotationOrigin,r=s.project(a,e),o=o.rotate(t,r).flip()),o},_transformPoint:function(t,i,a,n){return a.unproject(i.transform(a.project(t,n)),n)},_transformPoints:function(t,i,a,n,r){var s,e,o=t._map,h=o.getMaxZoom()||this.options.maxZoom,_=this._projectedMatrix=this._getProjectedMatrix(i,a,n,r);if(t._point)t._latlng=this._transformPoint(t._latlng,_,o,h);else if(t._rings||t._parts){var l=t._latlngs;for(t._bounds=new L.LatLngBounds,L.Util.isArray(l[0])||(l=[l]),s=0,e=l.length;s<e;s++)for(var d=0,p=l[s].length;d<p;d++)l[s][d]=this._transformPoint(l[s][d],_,o,h),t._bounds.extend(l[s][d])}t._reset()},_createHandlers:function(){var t=this._map;if(this._handlersGroup=this._handlersGroup||(new L.LayerGroup).addTo(t),this._rect=this._rect||this._getBoundingPolygon().addTo(this._handlersGroup),this.options.scaling){this._handlers=[];for(var i=0;i<this.options.edgesCount;i++)this._handlers.push(this._createHandler(this._rect._latlngs[0][i],2*i,i).addTo(this._handlersGroup))}this.options.rotation&&this._createRotationHandlers()},_createRotationHandlers:function(){var t=this._map,i=this._rect._latlngs[0],a=new L.LatLng((i[0].lat+i[3].lat)/2,(i[0].lng+i[3].lng)/2),n=new L.LatLng((i[1].lat+i[2].lat)/2,(i[1].lng+i[2].lng)/2),r=t.layerPointToLatLng(L.PathTransform.pointOnLine(t.latLngToLayerPoint(a),t.latLngToLayerPoint(n),this.options.handleLength));this._handleLine=new L.Polyline([n,r],this.options.rotateHandleOptions).addTo(this._handlersGroup);var s=this.options.rotateHandleClass;this._rotationMarker=new s(r,this.options.handlerOptions).addTo(this._handlersGroup).on("mousedown",this._onRotateStart,this),this._rotationOrigin=new L.LatLng((n.lat+a.lat)/2,(n.lng+a.lng)/2),this._handlers.push(this._rotationMarker)},_getRotationOrigin:function(){var t=this._rect._latlngs[0],i=t[0],a=t[2];return new L.LatLng((i.lat+a.lat)/2,(i.lng+a.lng)/2)},_onRotateStart:function(t){var i=this._map;i.dragging.disable(),this._originMarker=null,this._rotationOriginPt=i.latLngToLayerPoint(this._getRotationOrigin()),this._rotationStart=t.layerPoint,this._initialMatrix=this._matrix.clone(),this._angle=0,this._path._map.on("mousemove",this._onRotate,this).on("mouseup",this._onRotateEnd,this),this._cachePoints(),this._path.fire("transformstart",{layer:this._path}).fire("rotatestart",{layer:this._path,rotation:0})},_onRotate:function(t){var i=t.layerPoint,a=this._rotationStart,n=this._rotationOriginPt;this._angle=Math.atan2(i.y-n.y,i.x-n.x)-Math.atan2(a.y-n.y,a.x-n.x),this._matrix=this._initialMatrix.clone().rotate(this._angle,n).flip(),this._update(),this._path.fire("rotate",{layer:this._path,rotation:this._angle})},_onRotateEnd:function(t){this._path._map.off("mousemove",this._onRotate,this).off("mouseup",this._onRotateEnd,this);var i=this._angle;this._apply(),this._path.fire("rotateend",{layer:this._path,rotation:i})},_onScaleStart:function(t){var i=t.target;this._map.dragging.disable(),this._activeMarker=i,this._originMarker=this._handlers[(i.options.index+2)%4],this._scaleOrigin=this._originMarker.getLatLng(),this._initialMatrix=this._matrix.clone(),this._cachePoints(),this._map.on("mousemove",this._onScale,this).on("mouseup",this._onScaleEnd,this),this._initialDist=this._originMarker._point.distanceTo(this._activeMarker._point),this._initialDistX=this._originMarker._point.x-this._activeMarker._point.x,this._initialDistY=this._originMarker._point.y-this._activeMarker._point.y,this._path.fire("transformstart",{layer:this._path}).fire("scalestart",{layer:this._path,scale:L.point(1,1)}),this._handleLine&&this._map.removeLayer(this._handleLine),this._rotationMarker&&this._map.removeLayer(this._rotationMarker)},_onScale:function(t){var i,a,n=this._originMarker._point;this.options.uniformScaling?a=i=n.distanceTo(t.layerPoint)/this._initialDist:(i=(n.x-t.layerPoint.x)/this._initialDistX,a=(n.y-t.layerPoint.y)/this._initialDistY),this._scale=new L.Point(i,a),this._matrix=this._initialMatrix.clone().scale(this._scale,n),this._update(),this._path.fire("scale",{layer:this._path,scale:this._scale.clone()})},_onScaleEnd:function(t){this._map.off("mousemove",this._onScale,this).off("mouseup",this._onScaleEnd,this),this._handleLine&&this._map.addLayer(this._handleLine),this._rotationMarker&&this._map.addLayer(this._rotationMarker),this._apply(),this._path.fire("scaleend",{layer:this._path,scale:this._scale.clone()})},_cachePoints:function(){this._handlersGroup.eachLayer((function(t){t.bringToFront()}));for(var t=0,i=this._handlers.length;t<i;t++){var a=this._handlers[t];a._initialPoint=a._point.clone()}},_getBoundingPolygon:function(){return this._rectShape?L.GeoJSON.geometryToLayer(this._rectShape,this.options.boundsOptions):new L.Rectangle(this._path.getBounds(),this.options.boundsOptions)},_createHandler:function(t,i,a){var n=new(0,this.options.handleClass)(t,L.Util.extend({},this.options.handlerOptions,{className:"leaflet-drag-transform-marker drag-marker--"+a+" drag-marker--"+i,index:a,type:i}));return n.on("mousedown",this._onScaleStart,this),n},_hideHandlers:function(){this._map.removeLayer(this._handlersGroup)},_onDragStart:function(){this._hideHandlers()},_onDragEnd:function(t){var i=this._rect,a=(t.layer?t.layer:this._path).dragging._matrix.slice();i.dragging||(i.dragging=new L.Handler.PathDrag(i)),i.dragging.enable(),this._map.addLayer(i),i.dragging._transformPoints(a),i._updatePath(),i._project(),i.dragging.disable(),this._map.addLayer(this._handlersGroup),this._updateHandlers(),this._path.fire("transformed",{scale:L.point(1,1),rotation:0,matrix:L.matrix.apply(void 0,a),translate:L.point(a[4],a[5]),layer:this._path})}}),L.Path.addInitHook((function(){this.options.transform&&(this.transform=new L.Handler.PathTransform(this,this.options.transform))}))},6022:()=>{L.SVG.include(L.Browser.vml?{_resetTransformPath:function(t){t._skew&&(t._skew.on=!1,t._path.removeChild(t._skew),t._skew=null)},transformPath:function(t,i){var a=t._skew;a||(a=L.SVG.create("skew"),t._path.appendChild(a),a.style.behavior="url(#default#VML)",t._skew=a);var n=i[0].toFixed(8)+" "+i[1].toFixed(8)+" "+i[2].toFixed(8)+" "+i[3].toFixed(8)+" 0 0",r=Math.floor(i[4]).toFixed()+", "+Math.floor(i[5]).toFixed(),s=this._path.style,e=parseFloat(s.left),o=parseFloat(s.top),h=parseFloat(s.width),_=parseFloat(s.height);isNaN(e)&&(e=0),isNaN(o)&&(o=0),!isNaN(h)&&h||(h=1),!isNaN(_)&&_||(_=1);var l=(-e/h-.5).toFixed(8)+" "+(-o/_-.5).toFixed(8);a.on="f",a.matrix=n,a.origin=l,a.offset=r,a.on=!0}}:{})},5130:()=>{L.SVG.include({_resetTransformPath:function(t){t._path.setAttributeNS(null,"transform","")},transformPath:function(t,i){t._path.setAttributeNS(null,"transform","matrix("+i.join(" ")+")")}})},4746:()=>{L.PathTransform={},L.PathTransform.pointOnLine=function(t,i,a){var n=1+a/t.distanceTo(i);return new L.Point(t.x+(i.x-t.x)*n,t.y+(i.y-t.y)*n)},L.PathTransform.merge=function(){var t,i,a=1,n=arguments[a];function r(t){return"[object Object]"===Object.prototype.toString.call(t)}for(var s=arguments[0];n;)for(t in n=arguments[a++])n.hasOwnProperty(t)&&(r(i=n[t])&&r(s[t])?s[t]=L.Util.merge(s[t],i):s[t]=i);return s}},8795:(t,i,a)=>{a(5881),a(5706),a(4746),a(1316),a(8364)}}]);